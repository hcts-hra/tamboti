<?xml version="1.0" encoding="UTF-8"?>
<div xmlns="http://www.w3.org/1999/xhtml" xmlns:ext="http://exist-db.org/mods/extension" xmlns:ev="http://www.w3.org/2001/xml-events" xmlns:xf="http://www.w3.org/2002/xforms" xmlns:xlink="http://www.w3.org/1999/xlink" id="user-interface-container" class="subject block-form" tab-id="subject">
    <div style="display:none">
        <xf:model id="m-ui">
            <xf:instance id="i-code-tables" src="get-code-tables.xq?code-table-ids=altRepGroup%2csubject-authority%2cusage-type%2clanguage-3-type-sorted%2cscript-short%2ctransliteration%2clanguage-2-type-short%2cdate-encoding%2cdate-keydate%2cdate-point%2cdate-qualifier%2cabbreviated-title-authority%2cname-title-authority%2ctitle-type%2clanguage-3-type-sorted-short%2ctransliteration-short%2cname-type%2cname-part-type%2ccode-text%2cname-role-relator-authority%2crole%2cgenre-authority%2cgenre-marcgt%2cgenre-marcsmd%2cdct-resource-type%2cbgtchm-genre%2ccontinent%2cgeographic-code-authority%2coccupation-authority">
                <code-tables xmlns="http://hra.uni-heidelberg.de/ns/mods-editor/"/>
            </xf:instance>
        </xf:model>
    </div>
    <xf:group model="m-main" ref="instance('save-data')">
        <div class="block-form">
            <fieldset class="level-1">
                <xf:group appearance="minimal" class="label-box">
                    <xf:output value="'Subjects'" class="hint-icon">
                        <xf:hint ref="id('hint-code_subject',instance('i-hint-codes'))/*:help"/>
                    </xf:output>
                    <xf:trigger ref=".[mods:subject]">
                        <xf:label>+</xf:label>
                        <xf:insert nodeset="mods:subject" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject" ev:event="DOMActivate"/>
                    </xf:trigger>
                    <xf:trigger ref=".[mods:subject]">
                        <xf:label>–</xf:label>
                        <xf:delete nodeset="instance('save-data')/mods:subject" at="index('subject-repeat')" ev:event="DOMActivate"/>
                    </xf:trigger>
                </xf:group><!--Attributes: ID; xlink; lang; xml:lang; script; transliteration, authority, authorityURI; valueURI, displayLabel, usage, altRepGroup--><!--Subelements: topic, geographic, temporal, titleInfo, name, geographicCode, genre, hierarchicalGeographic, cartographics, occupation.-->
                <xf:repeat nodeset="instance('save-data')/mods:subject" id="subject-repeat">
                    <xf:group appearance="full">
                        <xf:group ref=".[count(@*) &lt; 12 or .[not(mods:topic)] or .[not(mods:geographic)] or .[not(mods:temporal)] or .[not(mods:titleInfo)] or .[not(mods:name)] or .[not(mods:genre)] or .[not(mods:hierarchicalGeographic)] or .[not(mods:cartographics)] or .[not(mods:geographicCode)] or .[not(mods:occupation)]]">
                            <xf:switch>
                                <xf:case id="subject-add-node-hide">
                                    <div class="open-close-button">
                                        <xf:trigger class="add-button">
                                            <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                            <xf:toggle case="subject-add-node-unhide" ev:event="DOMActivate"/>
                                        </xf:trigger>
                                    </div>
                                </xf:case>
                                <xf:case id="subject-add-node-unhide">
                                    <div class="open-close-button">
                                        <xf:trigger>
                                            <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                            <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                        </xf:trigger>
                                    </div>
                                    <div class="node-adds">
                                        <xf:group class="add-buttons">
                                            <xf:trigger ref=".[not(@altRepGroup)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Alternate Representation Group</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@altRepGroup"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@authority"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@authorityURI"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@displayLabel)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Display Label</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@displayLabel"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@ID)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add ID</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@ID"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@lang)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add
		                                                Language</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@lang"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@script)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Script</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@script"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@transliteration)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@transliteration"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@usage)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Usage</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@usage"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@valueURI"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@xlink:href)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add xlink:href</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@xlink:href"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(@xml:lang)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/@xml:lang"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:group appearance="full" ref=".[count(@*) &lt; 12 and (.[not(mods:topic)] or .[not(mods:geographic)] or .[not(mods:temporal)] or .[not(mods:titleInfo)] or .[not(mods:name)] or .[not(mods:genre)] or .[not(mods:hierarchicalGeographic)] or .[not(mods:cartographics)] or .[not(mods:geographicCode)] or .[not(mods:occupation)])]">
                                                <hr/>
                                            </xf:group>
                                            <xf:trigger ref=".[not(mods:cartographics)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Cartographics</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:cartographics" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:cartographics"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:hierarchicalGeographic)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Hierarchical Geographic</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:hierarchicalGeographic" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:hierarchicalGeographic"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:genre)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Genre</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:genre" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:genre"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:geographicCode)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Geographic Code</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:geographicCode" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:geographicCode"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:geographic)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Geographic</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:geographic" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:geographic"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:name)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Name</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:name" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:occupation)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Occupation</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:occupation" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:occupation"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:temporal)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Temporal</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:temporal" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:temporal"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:titleInfo)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Title Information</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:titleInfo" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:titleInfo"/>
                                                </xf:action>
                                            </xf:trigger>
                                            <xf:trigger ref=".[not(mods:topic)]" class="add-button">
                                                <xf:label class="xforms-group-label-centered">Add Topic</xf:label>
                                                <xf:action ev:event="DOMActivate">
                                                    <xf:toggle case="subject-add-node-hide" ev:event="DOMActivate"/>
                                                    <xf:insert nodeset="mods:topic" at="index('subject-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:topic"/>
                                                </xf:action>
                                            </xf:trigger>
                                        </xf:group>
                                    </div>
                                </xf:case>
                            </xf:switch>
                        </xf:group>
                        <xf:group ref=".[@altRepGroup]">
                            <xf:select1 ref="./@altRepGroup">
                                <xf:label>
                                    <xf:output value="'Alt. Representation Group'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_altRepGroup',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('altRepGroup', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                        <xf:group ref=".[@authority]">
                            <xf:select1 ref="./@authority">
                                <xf:label>
                                    <xf:output value="'Authority'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('subject-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                        <xf:group ref=".[@authorityURI]">
                            <xf:input ref="./@authorityURI" class="text_50">
                                <xf:label>
                                    <xf:output value="'Authority URI'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                            </xf:input>
                        </xf:group>
                        <xf:group ref=".[@displayLabel]">
                            <xf:input ref="./@displayLabel" class="text_50">
                                <xf:label>
                                    <xf:output value="'Display Label'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_displayLabel',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                            </xf:input>
                        </xf:group>
                        <xf:group ref=".[@ID]">
                            <xf:input ref="./@ID" class="text_50">
                                <xf:label>
                                    <xf:output value="'ID'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_ID',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                            </xf:input>
                        </xf:group>
                        <xf:group ref=".[@usage]">
                            <xf:select1 ref="./@usage">
                                <xf:label>
                                    <xf:output value="'Usage'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_usage',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('usage-type', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                        <xf:group ref=".[@valueURI]">
                            <xf:input ref="./@valueURI" class="text_50">
                                <xf:label>
                                    <xf:output value="'Value URI'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                            </xf:input>
                        </xf:group>
                        <xf:group ref=".[@xlink:href]">
                            <xf:input ref="./@xlink:href" class="text_50">
                                <xf:label>
                                    <xf:output value="'XLink'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_xlink_href',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                            </xf:input>
                        </xf:group>
                        <xf:group ref=".[@lang]">
                            <xf:select1 ref="./@lang">
                                <xf:label>
                                    <xf:output value="'Language'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('language-3-type-sorted', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                        <xf:group ref=".[@script]">
                            <xf:select1 ref="./@script">
                                <xf:label>
                                    <xf:output value="'Script'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                        <xf:group ref=".[@transliteration]">
                            <xf:select1 ref="./@transliteration">
                                <xf:label>
                                    <xf:output value="'Transliteration'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('transliteration', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                        <xf:group ref=".[@xml:lang]">
                            <xf:select1 ref="./@xml:lang">
                                <xf:label>
                                    <xf:output value="'xml:lang'" class="hint-icon">
                                        <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                    </xf:output>
                                </xf:label>
                                <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                    <xf:label ref="*:label"/>
                                    <xf:value ref="*:value"/>
                                </xf:itemset>
                            </xf:select1>
                        </xf:group>
                    </xf:group>
                    <xf:group ref=".[mods:topic]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Topic'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_topic',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:topic" at="index('topic-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:topic" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:topic" at="index('topic-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority; authorityURI; valueURI; lang; xml:lang; script; transliteration--><!--Subelements: None-->
                            <xf:repeat nodeset="./mods:topic" id="topic-repeat">
                                <xf:group appearance="full">
                                    <xf:group ref=".[count(@*) &lt; 7]">
                                        <xf:switch>
                                            <xf:case id="subject-topic-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-topic-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-topic-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@script"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@transliteration"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-topic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:topic/@xml:lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('subject-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>
                                            <xf:output value="'Topic'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_topic',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:geographic]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Geographic'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_geographic',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:geographic" at="index('geographic-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:geographic" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:geographic" at="index('geographic-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority; authorityURI; valueURI; lang; xml:lang; script; transliteration--><!--Subelements: None-->
                            <xf:repeat nodeset="./mods:geographic" id="geographic-repeat">
                                <xf:group appearance="full">
                                    <xf:group ref=".[count(@*) &lt; 7]">
                                        <xf:switch>
                                            <xf:case id="subject-geographic-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-geographic-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-geographic-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@script"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@transliteration"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographic/@xml:lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('subject-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>
                                            <xf:output value="'Geographic'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_geographic',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:temporal]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Temporal'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_temporal',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:temporal" at="index('temporal-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:temporal" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:temporal" at="index('temporal-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority; authorityURI; valueURI; lang; xml:lang; script; transliteration, encoding; point; keyDate; qualifier--><!--Subelements: None-->
                            <xf:repeat nodeset="./mods:temporal" id="temporal-repeat">
                                <xf:group appearance="full">
                                    <xf:group ref=".[count(@*) &lt; 11]">
                                        <xf:switch>
                                            <xf:case id="subject-temporal-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-temporal-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-temporal-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@encoding)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Encoding</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@encoding"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@keyDate)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Key Date</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@keyDate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@point)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Point</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@point"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@qualifier)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Qualifier</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@qualifier"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@script"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@transliteration"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-temporal-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:temporal/@xml:lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('subject-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@encoding]">
                                        <xf:select1 ref="./@encoding">
                                            <xf:label>
                                                <xf:output value="'Encoding'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_temporal-encoding',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('date-encoding', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@keyDate]">
                                        <xf:select1 ref="./@point">
                                            <xf:label>
                                                <xf:output value="'Key Date'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_keyDate',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('date-keydate', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@point]">
                                        <xf:select1 ref="./@point">
                                            <xf:label>
                                                <xf:output value="'Point'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_point',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('date-point', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@qualifier]">
                                        <xf:select1 ref="./@point">
                                            <xf:label>
                                                <xf:output value="'Qualifier'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_qualifier',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('date-qualifier', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>
                                            <xf:output value="'Temporal'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_temporal',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:titleInfo]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Title Information'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_titleInfo',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger ref=".[mods:titleInfo]">
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:titleInfo" at="index('titleInfo-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:titleInfo" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger ref=".[mods:titleInfo]">
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:titleInfo" at="index('titleInfo-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!-- attributes: ID; xlink; lang; xml:lang; script; transliteration, type, authority, displayLabel, authorityURI, valueURI. --><!-- subelements: nonSort, title, subTitle, partNumber, partName. -->
                            <xf:repeat nodeset="./mods:titleInfo" id="titleInfo-repeat">
                                <xf:group appearance="full">
                                    <xf:group class="show-hide" ref=".[count(@*) &lt; 11 or count(*) &lt; 5]">
                                        <xf:switch>
                                            <xf:case id="titleInfo-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label>&gt;</xf:label>
                                                        <xf:toggle case="titleInfo-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="titleInfo-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label>&lt;</xf:label>
                                                        <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]">
                                                            <xf:label>Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]">
                                                            <xf:label>Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@displayLabel)]">
                                                            <xf:label>Add Display Label</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@displayLabel"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@ID)]">
                                                            <xf:label>Add ID</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@ID"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]">
                                                            <xf:label>Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]">
                                                            <xf:label>Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@script"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]">
                                                            <xf:label>Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@transliteration"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@type)]">
                                                            <xf:label>Add Type</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@type"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]">
                                                            <xf:label>Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]">
                                                            <xf:label>Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@xml:lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xlink:href)]">
                                                            <xf:label>Add XLink</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/@xlink:href"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                    <xf:group class="show-hide" ref=".[count(@*) &lt; 15 and count(*) &lt; 5]">
                                                        <hr/>
                                                    </xf:group>
                                                    <xf:trigger ref=".[not(mods:nonSort)]">
                                                        <xf:label>Add Non Sort</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="instance('save-data')/mods:nonSort" at="index('titleInfo-repeat')" origin="instance('new-instance')/mods:subject/mods:titleInfo/mods:nonSort"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:partName)]">
                                                        <xf:label>Add Part Name</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="instance('save-data')/mods:partName" at="index('titleInfo-repeat')" origin="instance('new-instance')/mods:subject/mods:titleInfo/mods:partName"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:partNumber)]">
                                                        <xf:label>Add Part Number</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="instance('save-data')/mods:partNumber" at="index('titleInfo-repeat')" origin="instance('new-instance')/mods:subject/mods:titleInfo/mods:partNumber"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:subTitle)]">
                                                        <xf:label>Add Subtitle</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="instance('save-data')/mods:subTitle" at="index('titleInfo-repeat')" origin="instance('new-instance')/mods:subject/mods:titleInfo/mods:subTitle"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:title)]">
                                                        <xf:label>Add Title</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="titleInfo-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="instance('save-data')/mods:title" at="index('titleInfo-repeat')" origin="instance('new-instance')/mods:subject/mods:titleInfo/mods:title"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority" selection="open">
                                            <xf:label>
                                                <xf:output value="'Abbreviated Title Authorities'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_titleInfo-authority-abbreviated',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('abbreviated-title-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority" selection="open">
                                            <xf:label>
                                                <xf:output value="'Name-Title Authorities'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_uniform-title-authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('name-title-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@displayLabel]">
                                        <xf:input ref="./@displayLabel" class="text_100">
                                            <xf:label>
                                                <xf:output value="'Display Label'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_displayLabel',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@ID]">
                                        <xf:input ref="./@ID" class="text_50">
                                            <xf:label>
                                                <xf:output value="'ID'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_ID',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@type]">
                                        <xf:select1 ref="./@type">
                                            <xf:label>
                                                <xf:output value="'Type'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_titleInfo-type',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('title-type', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@xlink:href]">
                                        <xf:input ref="./@xlink:href" class="text_50">
                                            <xf:label>
                                                <xf:output value="'xlink:href'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xlink_href',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration" selection="open">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group><!-- non-repeating --><!-- attributes: lang; xml:lang; script; transliteration. --><!-- subelements: none. -->
                                </xf:group>
                                <xf:group ref=".[mods:nonSort]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Non Sort'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_nonSort',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:nonSort]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:titleInfo/mods:nonSort" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:nonSort" id="nonSort-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="nonSort-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="nonSort-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="nonSort-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="nonSort-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:nonSort/@lang"/>
                                                                        <xf:toggle case="nonSort-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:nonSort/@script"/>
                                                                        <xf:toggle case="nonSort-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:nonSort/@transliteration"/>
                                                                        <xf:toggle case="nonSort-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:nonSort/@xml:lang"/>
                                                                        <xf:toggle case="nonSort-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Non Sort'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_nonSort',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:title]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Title'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_title',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:title" id="title-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="title-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="title-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="title-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="title-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:title/@lang"/>
                                                                        <xf:toggle case="title-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:title/@script"/>
                                                                        <xf:toggle case="title-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:title/@transliteration"/>
                                                                        <xf:toggle case="title-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:title/@xml:lang"/>
                                                                        <xf:toggle case="title-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:textarea ref=".">
                                                    <xf:label>
                                                        <xf:output value="'Title'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_title',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:textarea>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:subTitle]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Subtitle'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_subTitle',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:subTitle]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:titleInfo/mods:subTitle" at="index('subTitle-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:subTitle" id="subTitle-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="subTitle-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="subTitle-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="subTitle-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="subTitle-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:subTitle/@lang"/>
                                                                        <xf:toggle case="subTitle-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:subTitle/@script"/>
                                                                        <xf:toggle case="subTitle-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:subTitle/@transliteration"/>
                                                                        <xf:toggle case="subTitle-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:subTitle/@xml:lang"/>
                                                                        <xf:toggle case="subTitle-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:textarea ref=".">
                                                    <xf:label>
                                                        <xf:output value="'Subtitle'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_subTitle',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:textarea>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:partNumber]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Part Number'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_partNumber',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:partNumber]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:titleInfo/mods:partNumber" at="index('partNumber-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:partNumber" id="partNumber-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="partNumber-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="partNumber-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="partNumber-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="partNumber-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partNumber/@lang"/>
                                                                        <xf:toggle case="partNumber-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partNumber/@script"/>
                                                                        <xf:toggle case="partNumber-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partNumber/@transliteration"/>
                                                                        <xf:toggle case="partNumber-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partNumber/@xml:lang"/>
                                                                        <xf:toggle case="partNumber-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Part Number'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_partNumber',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:partName]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Part Name'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_partName',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:partName]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:titleInfo/mods:partName" at="index('partName-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:partName" id="partName-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="partName-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="partName-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="partName-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="partName-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partName/@lang"/>
                                                                        <xf:toggle case="partName-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partName/@script"/>
                                                                        <xf:toggle case="partName-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partName/@transliteration"/>
                                                                        <xf:toggle case="partName-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:titleInfo/mods:partName/@xml:lang"/>
                                                                        <xf:toggle case="partName-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:textarea ref=".">
                                                    <xf:label>
                                                        <xf:output value="'Part Name'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_partName',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:textarea>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:name]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Names'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_name',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger ref=".[mods:name]">
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="instance('save-data')/mods:name" at="index('subject-name-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger ref=".[mods:name]">
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:name" at="index('subject-name-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!-- attributes: ID; xlink; lang; xml:lang; script; transliteration, type, authority, authorityURI; valueURI, displayLabel--><!-- subelements: namePart; role; displayForm; affiliation; description. -->
                            <xf:repeat nodeset="./mods:name" id="subject-name-repeat">
                                <xf:group appearance="full">
                                    <xf:trigger ref="preceding-sibling::*[1][self::mods:name]" class="up-down-pointer">
                                        <xf:label>∧</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="self::*" origin="following-sibling::*[1]" position="before"/>
                                            <xf:delete nodeset="following-sibling::*[1]"/>
                                        </xf:action>
                                    </xf:trigger>
                                    <xf:trigger ref="following-sibling::*[1][self::mods:name]" class="up-down-pointer">
                                        <xf:label>∨</xf:label>
                                        <xf:action ev:event="DOMActivate">
                                            <xf:insert nodeset="self::*" origin="preceding-sibling::*[1]" position="after"/>
                                            <xf:delete nodeset="preceding-sibling::*[1]"/>
                                        </xf:action>
                                    </xf:trigger>
                                    <xf:group class="show-hide" ref=".[count(@*) &lt; 11 or .[not(mods:namePart)] or .[not(mods:role)] or .[not(mods:displayForm)] or .[not(mods:affiliation)] or .[not(mods:description)]]">
                                        <xf:switch>
                                            <xf:case id="name-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label>&gt;</xf:label>
                                                        <xf:toggle case="name-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="name-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label>&lt;</xf:label>
                                                        <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:trigger ref=".[not(@authority)]">
                                                        <xf:label>Add Authority</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@authority"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@authorityURI)]">
                                                        <xf:label>Add Authority URI</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@authorityURI"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@displayLabel)]">
                                                        <xf:label>Add Display Label</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@displayLabel"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@ID)]">
                                                        <xf:label>Add ID</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@ID"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@lang)]">
                                                        <xf:label>Add Language</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@lang"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@script)]">
                                                        <xf:label>Add Script</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@script"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@transliteration)]">
                                                        <xf:label>Add Transliteration</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@transliteration"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@type)]">
                                                        <xf:label>Add Type</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@type"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@valueURI)]">
                                                        <xf:label>Add Value URI</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@valueURI"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@xlink:href)]">
                                                        <xf:label>Add XLink</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@xlink:href"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(@xml:lang)]">
                                                        <xf:label>Add xml:lang</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@xml:lang"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:group class="show-hide" ref=".[count(@*) &lt; 14 and (.[not(mods:namePart)] or .[not(mods:role)] or .[not(mods:displayForm)] or .[not(mods:affiliation)] or .[not(mods:description)])]">
                                                        <hr/>
                                                    </xf:group>
                                                    <xf:trigger ref=".[not(mods:affiliation)]">
                                                        <xf:label>Add Affiliation</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:affiliation" at="index('subject-name-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:affiliation"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:description)]">
                                                        <xf:label>Add Description</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:description" at="index('subject-name-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:description"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:displayForm)]">
                                                        <xf:label>Add Display Form</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:displayForm" at="index('subject-name-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:displayForm"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:namePart)]">
                                                        <xf:label>Add Name Part</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:namePart" at="index('subject-namePart-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:namePart"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:role)]">
                                                        <xf:label>Add Role</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="name-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:role" at="index('subject-name-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:role"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group class="margin-bottom-2">
                                        <xf:group ref=".[@authority]">
                                            <xf:select1 ref="./@authority">
                                                <xf:label>
                                                    <xf:output value="'Authority'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_name-authority',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                                <xf:itemset nodeset="id('name-title-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                    <xf:label ref="*:label"/>
                                                    <xf:value ref="*:value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <xf:group ref=".[@authorityURI]">
                                            <xf:input ref="./@authorityURI" class="text_50">
                                                <xf:label>
                                                    <xf:output value="'Authority URI'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                            </xf:input>
                                        </xf:group>
                                        <xf:group ref=".[@displayLabel]">
                                            <xf:input ref="./@displayLabel" class="text_50">
                                                <xf:label>
                                                    <xf:output value="'Display Label'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_displayLabel',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                            </xf:input>
                                        </xf:group>
                                        <xf:group ref=".[@ID]">
                                            <xf:input ref="./@ID" class="text_50">
                                                <xf:label>
                                                    <xf:output value="'ID'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_ID',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                            </xf:input>
                                        </xf:group>
                                        <xf:group ref=".[@type]">
                                            <xf:select1 ref="./@type">
                                                <xf:label>
                                                    <xf:output value="'Type'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_name-type',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                                <xf:itemset nodeset="id('name-type', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                    <xf:label ref="*:label"/>
                                                    <xf:value ref="*:value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <xf:group ref=".[@valueURI]">
                                            <xf:input ref="./@valueURI" class="text_50">
                                                <xf:label>
                                                    <xf:output value="'Value URI'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                            </xf:input>
                                        </xf:group>
                                        <xf:group ref=".[@xlink:href]">
                                            <xf:input ref="./@xlink:href" class="text_50">
                                                <xf:label>
                                                    <xf:output value="'xlink:href'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_xlink_href',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                            </xf:input>
                                        </xf:group>
                                        <xf:group ref=".[@lang]">
                                            <xf:select1 ref="./@lang">
                                                <xf:label>
                                                    <xf:output value="'Language'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                                <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                    <xf:label ref="*:label"/>
                                                    <xf:value ref="*:value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <xf:group ref=".[@script]">
                                            <xf:select1 ref="./@script">
                                                <xf:label>
                                                    <xf:output value="'Script'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                                <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                    <xf:label ref="*:label"/>
                                                    <xf:value ref="*:value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <xf:group ref=".[@transliteration]">
                                            <xf:select1 ref="./@transliteration">
                                                <xf:label>
                                                    <xf:output value="'Transliteration'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                                <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                    <xf:label ref="*:label"/>
                                                    <xf:value ref="*:value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                        <xf:group ref=".[@xml:lang]">
                                            <xf:select1 ref="./@xml:lang">
                                                <xf:label>
                                                    <xf:output value="'xml:lang'" class="hint-icon">
                                                        <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                    </xf:output>
                                                </xf:label>
                                                <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                    <xf:label ref="*:label"/>
                                                    <xf:value ref="*:value"/>
                                                </xf:itemset>
                                            </xf:select1>
                                        </xf:group>
                                    </xf:group>
                                </xf:group>
                                <xf:group ref=".[mods:namePart]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Name Part'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_namePart',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:namePart]">
                                                <xf:label>+</xf:label>
                                                <xf:insert nodeset="instance('save-data')/mods:namePart" at="index('subject-namePart-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:namePart" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                            <xf:trigger ref=".[mods:namePart]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:name/mods:namePart" at="index('subject-namePart-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:namePart" id="subject-namePart-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 5]">
                                                    <xf:switch>
                                                        <xf:case id="namePart-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="namePart-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="namePart-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="namePart-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/mods:namePart/@lang"/>
                                                                        <xf:toggle case="namePart-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/mods:namePart/@script"/>
                                                                        <xf:toggle case="namePart-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/mods:namePart/@transliteration"/>
                                                                        <xf:toggle case="namePart-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@type)]">
                                                                    <xf:label>Add Type</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/mods:namePart/@type"/>
                                                                        <xf:toggle case="namePart-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/mods:namePart/@xml:lang"/>
                                                                        <xf:toggle case="namePart-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@type]">
                                                    <xf:select1 ref="./@type">
                                                        <xf:label>
                                                            <xf:output value="'Type'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_namePart-type',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('name-part-type', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_name-script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Name Part'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_namePart',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:role]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Role'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_role',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:role]">
                                                <xf:label>+</xf:label>
                                                <xf:insert nodeset="instance('save-data')/mods:role" at="index('subject-role-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:role" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                            <xf:trigger ref=".[mods:role]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:name/mods:role" at="index('subject-role-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: none --><!-- subelements: roleTerm. -->
                                        <xf:repeat nodeset="./mods:role" id="subject-role-repeat">
                                            <xf:group appearance="full" ref=".[not(mods:roleTerm)]">
                                                <xf:switch>
                                                    <xf:case id="role-add-node-hide">
                                                        <div class="open-close-button">
                                                            <xf:trigger>
                                                                <xf:label>&gt;</xf:label>
                                                                <xf:toggle case="role-add-node-unhide" ev:event="DOMActivate"/>
                                                            </xf:trigger>
                                                        </div>
                                                    </xf:case>
                                                    <xf:case id="role-add-node-unhide">
                                                        <div class="open-close-button">
                                                            <xf:trigger>
                                                                <xf:label>&lt;</xf:label>
                                                                <xf:toggle case="role-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:trigger>
                                                        </div>
                                                        <div class="node-adds">
                                                            <xf:trigger ref=".[not(mods:roleTerm)]">
                                                                <xf:label>Add Role Term</xf:label>
                                                                <xf:action ev:event="DOMActivate">
                                                                    <xf:toggle case="role-add-node-hide" ev:event="DOMActivate"/>
                                                                    <xf:insert nodeset="mods:roleTerm" at="index('subject-role-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:role/mods:roleTerm"/>
                                                                </xf:action>
                                                            </xf:trigger>
                                                        </div>
                                                    </xf:case>
                                                </xf:switch>
                                            </xf:group>
                                            <xf:group ref=".[mods:roleTerm]">
                                                <fieldset class="level-4">
                                                    <xf:group appearance="minimal" class="label-box">
                                                        <xf:output value="'Role Term'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_roleTerm',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                        <xf:trigger ref=".[mods:roleTerm]">
                                                            <xf:label>+</xf:label>
                                                            <xf:insert nodeset="instance('save-data')/mods:roleTerm" at="index('subject-roleTerm-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:role/mods:roleTerm" ev:event="DOMActivate"/>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[mods:roleTerm]">
                                                            <xf:label>–</xf:label>
                                                            <xf:delete nodeset="instance('save-data')/mods:subject/mods:name/mods:role/mods:roleTerm" at="index('subject-roleTerm-repeat')" ev:event="DOMActivate"/>
                                                        </xf:trigger>
                                                    </xf:group><!-- attributes: type; authority; authorityURI; valueURI; lang; xml:lang; script; transliteration. --><!-- subelements: none -->
                                                    <xf:repeat nodeset="./mods:roleTerm" id="subject-roleTerm-repeat">
                                                        <xf:group appearance="full">
                                                            <xf:group class="show-hide" ref=".[count(@*) &lt; 8]">
                                                                <xf:switch>
                                                                    <xf:case id="roleTerm-add-node-hide">
                                                                        <div class="open-close-button">
                                                                            <xf:trigger>
                                                                                <xf:label>&gt;</xf:label>
                                                                                <xf:toggle case="roleTerm-add-node-unhide" ev:event="DOMActivate"/>
                                                                            </xf:trigger>
                                                                        </div>
                                                                    </xf:case>
                                                                    <xf:case id="roleTerm-add-node-unhide">
                                                                        <div class="open-close-button">
                                                                            <xf:trigger>
                                                                                <xf:label>&lt;</xf:label>
                                                                                <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                            </xf:trigger>
                                                                        </div>
                                                                        <div class="node-adds">
                                                                            <xf:trigger ref=".[not(@authority)]">
                                                                                <xf:label>Add Authority</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@authority"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@authorityURI)]">
                                                                                <xf:label>Add Authority URI</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@authorityURI"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@lang)]">
                                                                                <xf:label>Add Language</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@lang"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@script)]">
                                                                                <xf:label>Add Script</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@script"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@transliteration)]">
                                                                                <xf:label>Add Transliteration</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@transliteration"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@type)]">
                                                                                <xf:label>Add Type</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@type"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@valueURI)]">
                                                                                <xf:label>Add Value URI</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@valueURI"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                            <xf:trigger ref=".[not(@xml:lang)]">
                                                                                <xf:label>Add xml:lang</xf:label>
                                                                                <xf:action ev:event="DOMActivate">
                                                                                    <xf:toggle case="roleTerm-add-node-hide" ev:event="DOMActivate"/>
                                                                                    <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/@xml:lang"/>
                                                                                </xf:action>
                                                                            </xf:trigger>
                                                                        </div>
                                                                    </xf:case>
                                                                </xf:switch>
                                                            </xf:group>
                                                            <xf:select1 ref="./@type">
                                                                <xf:label>
                                                                    <xf:output value="'Type'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_roleTerm-type',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                                <xf:itemset nodeset="id('code-text', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                    <xf:label ref="*:label"/>
                                                                    <xf:value ref="*:value"/>
                                                                </xf:itemset>
                                                            </xf:select1>
                                                            <xf:select1 ref="./@authority" selection="open">
                                                                <xf:label>
                                                                    <xf:output value="'Authority'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_roleTerm-authority',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                                <xf:itemset nodeset="id('name-role-relator-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                    <xf:label ref="*:label"/>
                                                                    <xf:value ref="*:value"/>
                                                                </xf:itemset>
                                                            </xf:select1>
                                                            <xf:input ref="./@authorityURI" class="text_50">
                                                                <xf:label>
                                                                    <xf:output value="'Authority URI'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                            </xf:input>
                                                            <xf:input ref="./@valueURI" class="text_50">
                                                                <xf:label>
                                                                    <xf:output value="'Value URI'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                            </xf:input>
                                                            <xf:select1 ref="./@lang">
                                                                <xf:label>
                                                                    <xf:output value="'Language'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_namePart-lang',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                                <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                    <xf:label ref="*:label"/>
                                                                    <xf:value ref="*:value"/>
                                                                </xf:itemset>
                                                            </xf:select1>
                                                            <xf:select1 ref="./@xml:lang">
                                                                <xf:label>
                                                                    <xf:output value="'xml:lang'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                                <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                    <xf:label ref="*:label"/>
                                                                    <xf:value ref="*:value"/>
                                                                </xf:itemset>
                                                            </xf:select1>
                                                            <xf:select1 ref="./@script">
                                                                <xf:label>
                                                                    <xf:output value="'Script'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_namePart-script',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                                <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                    <xf:label ref="*:label"/>
                                                                    <xf:value ref="*:value"/>
                                                                </xf:itemset>
                                                            </xf:select1>
                                                            <xf:select1 ref="./@transliteration">
                                                                <xf:label>
                                                                    <xf:output value="'Transliteration'" class="hint-icon">
                                                                        <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                                    </xf:output>
                                                                </xf:label>
                                                                <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                    <xf:label ref="*:label"/>
                                                                    <xf:value ref="*:value"/>
                                                                </xf:itemset>
                                                            </xf:select1>
                                                            <xf:group ref=".[@type='code' and @authority ='marcrelator']">
                                                                <xf:select1 ref=".">
                                                                    <xf:label>
                                                                        <xf:output value="'Role Term (code)'" class="hint-icon">
                                                                            <xf:hint ref="id('hint-code_roleTerm-code',instance('i-hint-codes'))/*:help"/>
                                                                        </xf:output>
                                                                    </xf:label>
                                                                    <xf:itemset nodeset="id('role', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                                        <xf:label ref="*:label"/>
                                                                        <xf:value ref="*:value"/>
                                                                    </xf:itemset>
                                                                </xf:select1>
                                                            </xf:group>
                                                            <xf:group ref=".[@type='code' and not(@authority ='marcrelator')]"><!-- NB: selection="open" -->
                                                                <xf:input ref="." selection="open">
                                                                    <xf:label>
                                                                        <xf:output value="'Role Term (code)'" class="hint-icon">
                                                                            <xf:hint ref="id('hint-code_roleTerm-code',instance('i-hint-codes'))/*:help"/>
                                                                        </xf:output>
                                                                    </xf:label>
                                                                </xf:input>
                                                            </xf:group>
                                                            <xf:group ref=".[not(@type='code')]">
                                                                <xf:input ref=".">
                                                                    <xf:label>
                                                                        <xf:output value="'Role Term (text)'" class="hint-icon">
                                                                            <xf:hint ref="id('hint-code_roleTerm-text',instance('i-hint-codes'))/*:help"/>
                                                                        </xf:output>
                                                                    </xf:label>
                                                                </xf:input>
                                                            </xf:group>
                                                        </xf:group>
                                                    </xf:repeat>
                                                </fieldset>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:displayForm]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Display Form'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_name-displayForm',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:displayForm]">
                                                <xf:label>+</xf:label>
                                                <xf:insert nodeset="instance('save-data')/mods:displayForm" at="index('subject-displayForm-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:displayForm" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                            <xf:trigger ref=".[mods:displayForm]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:name/mods:displayForm" at="index('subject-displayForm-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:displayForm" id="subject-displayForm-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="displayForm-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="displayForm-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="displayForm-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="displayForm-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="displayForm-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:name/mods:displayForm/@lang"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="displayForm-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:displayForm/@script"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="displayForm-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:displayForm/@transliteration"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="displayForm-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:displayForm/@xml:lang"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input class="text_100" ref=".">
                                                    <xf:label>
                                                        <xf:output value="'Display Form'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_name-displayForm',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:affiliation]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Affiliation'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_affiliation',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:affiliation]">
                                                <xf:label>+</xf:label>
                                                <xf:insert nodeset="instance('save-data')/mods:affiliation" at="index('subject-affiliation-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:affiliation" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                            <xf:trigger ref=".[mods:affiliation]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:name/mods:affiliation" at="index('subject-name-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:affiliation" id="subject-affiliation-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="affiliation-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="affiliation-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="affiliation-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="affiliation-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="affiliation-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:affiliation/@lang"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="affiliation-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:affiliation/@script"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="affiliation-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:affiliation/@transliteration"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="affiliation-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:affiliation/@xml:lang"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Affiliation'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_affiliation',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:description]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Description'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_description',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:description]">
                                                <xf:label>+</xf:label>
                                                <xf:insert nodeset="mods:description" at="index('subject-description-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:name/mods:description" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                            <xf:trigger ref=".[mods:description]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:name/mods:description" at="index('subject-description-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:description" id="subject-description-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="description-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="description-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="description-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="description-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="description-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:description/@lang"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="description-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:description/@script"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="description-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:description/@transliteration"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:toggle case="description-add-node-hide" ev:event="DOMActivate"/>
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:name/mods:description/@xml:lang"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:textarea ref=".">
                                                    <xf:label>
                                                        <xf:output value="'Description'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_description',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:textarea>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:genre]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Genre'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_genre',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:genre" at="index('subject-genre-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:genre" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:genre" at="index('subject-genre-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority; authorityURI; valueURI; lang; xml:lang; script; transliteration, type--><!--Subelements: None-->
                            <xf:repeat nodeset="./mods:genre" id="subject-genre-repeat">
                                <xf:group appearance="full">
                                    <xf:group class="show-hide" ref=".[count(@*) &lt; 8]">
                                        <xf:switch>
                                            <xf:case id="subject-genre-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-genre-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-genre-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@script"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@transliteration"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@type)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Type</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@type"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-genre-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:genre/@xml:lang"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority" selection="open">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('genre-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@type]">
                                        <xf:select1 ref="./@type" selection="open">
                                            <xf:label>
                                                <xf:output value="'Type'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_code-text',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('code-text', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authority='marcgt']">
                                        <xf:select1 ref=".">
                                            <xf:label>
                                                <xf:output value="'Genre (marcgt)'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_genre',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('genre-marcgt', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authority='marcsmd']">
                                        <xf:select1 ref=".">
                                            <xf:label>
                                                <xf:output value="'Genre (marcsmd)'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_genre',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('genre-marcsmd', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authority='dct']">
                                        <xf:select1 ref=".">
                                            <xf:label>
                                                <xf:output value="'Genre (dct)'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_genre',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('dct-resource-type', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authority='bgtchm']">
                                        <xf:select1 ref=".">
                                            <xf:label>
                                                <xf:output value="'Genre (bgtchm)'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_genre',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('bgtchm-genre', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authority='']">
                                        <xf:input ref=".">
                                            <xf:label>
                                                <xf:output value="'Genre (text)'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_genre',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:hierarchicalGeographic]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Hierarchical Geographic'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_hierarchicalGeographic',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:hierarchicalGeographic" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:hierarchicalGeographic" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic" at="index('subject-hierarchicalGeographic-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority; authorityURI; valueURI--><!--Subelements:, continent, country, province, region, state, territory, county, city, island, area, extraterrestrialArea, citySection-->
                            <xf:repeat nodeset="./mods:hierarchicalGeographic" id="subject-hierarchicalGeographic-repeat">
                                <xf:group class="show-hide" ref=".[count(@*) &lt; 3 or count(*) &lt; 12]">
                                    <xf:group appearance="full">
                                        <xf:switch>
                                            <xf:case id="subject-hierarchicalGeographic-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-hierarchicalGeographic-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-hierarchicalGeographic-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:group class="show-hide" ref=".[count(@*) &lt; 3 and count(*) &lt; 12]">
                                                            <hr/>
                                                        </xf:group>
                                                        <xf:trigger ref=".[not(mods:continent)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Continent</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:continent" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:continent"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:country)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Country</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:country" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:country"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:province)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Province</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:province" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:province"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:region)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Region</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:region" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:region"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:state)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add State</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:state" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:state"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:territory)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Territory</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:territory" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:territory"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:county)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add County</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:county" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:county"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:city)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add City</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:city" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:city"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:citySection)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add City Section</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:citySection" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:citySection"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:island)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Island</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:island" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:island"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:area)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Area</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:area" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:area"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(mods:extraterrestrialArea)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Extraterrestrial Area</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-hierarchicalGeographic-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert nodeset="mods:extraterrestrialArea" at="index('subject-hierarchicalGeographic-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:extraterrestrialArea"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('subject-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                </xf:group>
                                <xf:group ref=".[mods:continent]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Continent'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_continent',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:continent]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:continent" at="index('continent-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:continent" id="continent-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="continent-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="continent-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="continent-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="continent-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:continent/@lang"/>
                                                                        <xf:toggle case="continent-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:continent/@script"/>
                                                                        <xf:toggle case="continent-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:continent/@transliteration"/>
                                                                        <xf:toggle case="continent-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:continent/@xml:lang"/>
                                                                        <xf:toggle case="continent-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:select1 ref=".">
                                                    <xf:label>
                                                        <xf:output value="'Continent'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_continent',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                    <xf:itemset nodeset="id('continent', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                        <xf:label ref="*:label"/>
                                                        <xf:value ref="*:value"/>
                                                    </xf:itemset>
                                                </xf:select1>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:country]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Country'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_country',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:country]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:country" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:country" id="country-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="country-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="country-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="country-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="country-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:country/@lang"/>
                                                                        <xf:toggle case="country-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:country/@script"/>
                                                                        <xf:toggle case="country-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:country/@transliteration"/>
                                                                        <xf:toggle case="country-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:country/@xml:lang"/>
                                                                        <xf:toggle case="country-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Country'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_country',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:province]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Province'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_province',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:province]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:province" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:province" id="province-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="province-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="province-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="province-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="province-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:province/@lang"/>
                                                                        <xf:toggle case="province-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:province/@script"/>
                                                                        <xf:toggle case="province-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:province/@transliteration"/>
                                                                        <xf:toggle case="province-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:province/@xml:lang"/>
                                                                        <xf:toggle case="province-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Province'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_province',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:region]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Region'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_region',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:region]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:region" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:region" id="region-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="region-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="region-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="region-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="region-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:region/@lang"/>
                                                                        <xf:toggle case="region-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:region/@script"/>
                                                                        <xf:toggle case="region-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:region/@transliteration"/>
                                                                        <xf:toggle case="region-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:region/@xml:lang"/>
                                                                        <xf:toggle case="region-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Region'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_region',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:state]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'State'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_state',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:state]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:state" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:state" id="state-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="state-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="state-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="state-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="state-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:state/@lang"/>
                                                                        <xf:toggle case="state-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:state/@script"/>
                                                                        <xf:toggle case="state-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:state/@transliteration"/>
                                                                        <xf:toggle case="state-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:state/@xml:lang"/>
                                                                        <xf:toggle case="state-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'State'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_state',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:territory]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Territory'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_territory',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:territory]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:territory" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:territory" id="territory-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="territory-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="territory-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="territory-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="territory-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:territory/@lang"/>
                                                                        <xf:toggle case="territory-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:territory/@script"/>
                                                                        <xf:toggle case="territory-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:territory/@transliteration"/>
                                                                        <xf:toggle case="territory-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:territory/@xml:lang"/>
                                                                        <xf:toggle case="territory-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Territory'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_territory',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:county]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'County'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_county',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:county]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:county" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:county" id="county-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="county-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="county-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="county-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="county-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:county/@lang"/>
                                                                        <xf:toggle case="county-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:county/@script"/>
                                                                        <xf:toggle case="county-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:county/@transliteration"/>
                                                                        <xf:toggle case="county-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:county/@xml:lang"/>
                                                                        <xf:toggle case="county-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'County'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_county',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:city]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'City'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_city',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:city]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:city" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:city" id="city-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="city-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="city-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="city-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="city-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:city/@lang"/>
                                                                        <xf:toggle case="city-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:city/@script"/>
                                                                        <xf:toggle case="city-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:city/@transliteration"/>
                                                                        <xf:toggle case="city-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:city/@xml:lang"/>
                                                                        <xf:toggle case="city-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'City'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_city',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:citySection]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'City Section'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_citySection',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:citySection]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:citySection" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:citySection" id="citySection-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="citySection-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="citySection-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="citySection-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="citySection-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:citySection/@lang"/>
                                                                        <xf:toggle case="citySection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:citySection/@script"/>
                                                                        <xf:toggle case="citySection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:citySection/@transliteration"/>
                                                                        <xf:toggle case="citySection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:citySection/@xml:lang"/>
                                                                        <xf:toggle case="citySection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'City Section'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_citySection',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:island]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Island'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_island',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:island]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:island" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:island" id="island-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="island-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="island-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="island-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="island-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:island/@lang"/>
                                                                        <xf:toggle case="island-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:island/@script"/>
                                                                        <xf:toggle case="island-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:island/@transliteration"/>
                                                                        <xf:toggle case="island-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:island/@xml:lang"/>
                                                                        <xf:toggle case="island-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Island'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_island',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:area]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Area'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_area',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:area]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:area" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:area" id="area-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="area-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="area-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="area-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="area-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:area/@lang"/>
                                                                        <xf:toggle case="area-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:area/@script"/>
                                                                        <xf:toggle case="area-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:area/@transliteration"/>
                                                                        <xf:toggle case="area-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:area/@xml:lang"/>
                                                                        <xf:toggle case="area-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Area'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_area',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:extraterrestrialArea]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Extraterrestrial Area'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_extraterrestrialArea',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:extraterrestrialArea]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:extraterrestrialArea" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:extraterrestrialArea" id="extraterrestrialArea-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="extraterrestrialArea-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="extraterrestrialArea-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="extraterrestrialArea-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="extraterrestrialArea-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:extraterrestrialArea/@lang"/>
                                                                        <xf:toggle case="extraterrestrialArea-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:extraterrestrialArea/@script"/>
                                                                        <xf:toggle case="extraterrestrialArea-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:extraterrestrialArea/@transliteration"/>
                                                                        <xf:toggle case="extraterrestrialArea-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:hierarchicalGeographic/mods:extraterrestrialArea/@xml:lang"/>
                                                                        <xf:toggle case="extraterrestrialArea-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Extraterrestrial Area'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_extraterrestrialArea',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:cartographics]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Cartographics'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_cartographics',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:cartographics" at="index('subject-cartographics-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:cartographics" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:cartographics" at="index('subject-cartographics-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: None--><!--Subelements: scale, projection, coordinates-->
                            <xf:repeat nodeset="./mods:cartographics" id="subject-cartographics-repeat">
                                <xf:group appearance="full" ref=".[not(mods:scale)] | .[not(mods:projection)] | .[not(mods:coordinates)]">
                                    <xf:switch>
                                        <xf:case id="subject-cartographics-add-node-hide">
                                            <div class="open-close-button">
                                                <xf:trigger class="add-button">
                                                    <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                    <xf:toggle case="subject-cartographics-add-node-unhide" ev:event="DOMActivate"/>
                                                </xf:trigger>
                                            </div>
                                        </xf:case>
                                        <xf:case id="subject-cartographics-add-node-unhide">
                                            <div class="open-close-button">
                                                <xf:trigger>
                                                    <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                    <xf:toggle case="subject-cartographics-add-node-hide" ev:event="DOMActivate"/>
                                                </xf:trigger>
                                            </div>
                                            <div class="node-adds">
                                                <xf:group class="add-buttons">
                                                    <xf:trigger ref=".[not(mods:scale)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Scale</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="subject-cartographics-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:scale" at="index('subject-cartographics-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:scale"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:projection)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Projection</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="subject-cartographics-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:projection" at="index('subject-cartographics-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:projection"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                    <xf:trigger ref=".[not(mods:coordinates)]" class="add-button">
                                                        <xf:label class="xforms-group-label-centered">Add Coordinates</xf:label>
                                                        <xf:action ev:event="DOMActivate">
                                                            <xf:toggle case="subject-cartographics-add-node-hide" ev:event="DOMActivate"/>
                                                            <xf:insert nodeset="mods:coordinates" at="index('subject-cartographics-repeat')" position="before" origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:coordinates"/>
                                                        </xf:action>
                                                    </xf:trigger>
                                                </xf:group>
                                            </div>
                                        </xf:case>
                                    </xf:switch>
                                </xf:group>
                                <xf:group ref=".[mods:scale]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Scale'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_scale',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:scale]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:scale" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:scale" id="scale-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="scale-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="scale-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="scale-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="scale-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:scale/@lang"/>
                                                                        <xf:toggle case="scale-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:scale/@script"/>
                                                                        <xf:toggle case="scale-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:scale/@transliteration"/>
                                                                        <xf:toggle case="scale-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:scale/@xml:lang"/>
                                                                        <xf:toggle case="scale-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Scale'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_scale',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:projection]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Projection'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_projection',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:projection]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:projection" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:projection" id="projection-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="projection-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="projection-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="projection-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="projection-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:projection/@lang"/>
                                                                        <xf:toggle case="projection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:projection/@script"/>
                                                                        <xf:toggle case="projection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:projection/@transliteration"/>
                                                                        <xf:toggle case="projection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:projection/@xml:lang"/>
                                                                        <xf:toggle case="projection-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Projection'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_projection',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                                <xf:group ref=".[mods:coordinates]">
                                    <fieldset class="level-3">
                                        <xf:group appearance="minimal" class="label-box">
                                            <xf:output value="'Coordinates'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_coordinates',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                            <xf:trigger ref=".[mods:coordinates]">
                                                <xf:label>–</xf:label>
                                                <xf:delete nodeset="instance('save-data')/mods:subject/mods:hierarchicalGeographic/mods:coordinates" at="index('nonSort-repeat')" ev:event="DOMActivate"/>
                                            </xf:trigger>
                                        </xf:group><!-- attributes: type; lang; script; transliteration; xml:lang. --><!-- subelements: none. -->
                                        <xf:repeat nodeset="./mods:coordinates" id="coordinates-repeat">
                                            <xf:group appearance="full">
                                                <xf:group class="show-hide" ref=".[count(@*) &lt; 4]">
                                                    <xf:switch>
                                                        <xf:case id="coordinates-add-node-hide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&gt;</xf:label>
                                                                    <xf:toggle case="coordinates-add-node-unhide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                        <xf:case id="coordinates-add-node-unhide">
                                                            <div class="open-close-button">
                                                                <xf:trigger>
                                                                    <xf:label>&lt;</xf:label>
                                                                    <xf:toggle case="coordinates-add-node-hide" ev:event="DOMActivate"/>
                                                                </xf:trigger>
                                                            </div>
                                                            <div class="node-adds">
                                                                <xf:trigger ref=".[not(@lang)]">
                                                                    <xf:label>Add Language</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:coordinates/@lang"/>
                                                                        <xf:toggle case="coordinates-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@script)]">
                                                                    <xf:label>Add Script</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:coordinates/@script"/>
                                                                        <xf:toggle case="coordinates-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@transliteration)]">
                                                                    <xf:label>Add Transliteration</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:coordinates/@transliteration"/>
                                                                        <xf:toggle case="coordinates-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                                <xf:trigger ref=".[not(@xml:lang)]">
                                                                    <xf:label>Add xml:lang</xf:label>
                                                                    <xf:action ev:event="DOMActivate">
                                                                        <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:cartographics/mods:coordinates/@xml:lang"/>
                                                                        <xf:toggle case="coordinates-add-node-hide" ev:event="DOMActivate"/>
                                                                    </xf:action>
                                                                </xf:trigger>
                                                            </div>
                                                        </xf:case>
                                                    </xf:switch>
                                                </xf:group>
                                                <xf:group ref=".[@lang]">
                                                    <xf:select1 ref="./@lang">
                                                        <xf:label>
                                                            <xf:output value="'Language'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@script]">
                                                    <xf:select1 ref="./@script">
                                                        <xf:label>
                                                            <xf:output value="'Script'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@transliteration]">
                                                    <xf:select1 ref="./@transliteration">
                                                        <xf:label>
                                                            <xf:output value="'Transliteration'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:group ref=".[@xml:lang]">
                                                    <xf:select1 ref="./@xml:lang">
                                                        <xf:label>
                                                            <xf:output value="'xml:lang'" class="hint-icon">
                                                                <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                            </xf:output>
                                                        </xf:label>
                                                        <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                            <xf:label ref="*:label"/>
                                                            <xf:value ref="*:value"/>
                                                        </xf:itemset>
                                                    </xf:select1>
                                                </xf:group>
                                                <xf:input ref="." class="text_100">
                                                    <xf:label>
                                                        <xf:output value="'Coordinates'" class="hint-icon">
                                                            <xf:hint ref="id('hint-code_coordinates',instance('i-hint-codes'))/*:help"/>
                                                        </xf:output>
                                                    </xf:label>
                                                </xf:input>
                                            </xf:group>
                                        </xf:repeat>
                                    </fieldset>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:geographicCode]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Geographic Code'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_geographicCode',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:geographicCode" at="index('subject-geographicCode-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:geographicCode" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:geographicCode" at="index('subject-geographicCode-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority, authorityURI; valueURI; lang; xml:lang; script; transliteration-->
                            <xf:repeat nodeset="./mods:geographicCode" id="subject-geographicCode-repeat">
                                <xf:group appearance="full">
                                    <xf:group ref=".[count(@*) &lt; 7]">
                                        <xf:switch>
                                            <xf:case id="subject-geographicCode-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-geographicCode-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-geographicCode-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]">
                                                            <xf:label>Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@lang"/>
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]">
                                                            <xf:label>Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@script"/>
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]">
                                                            <xf:label>Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@transliteration"/>
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]">
                                                            <xf:label>Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:geographicCode/@xml:lang"/>
                                                                <xf:toggle case="subject-geographicCode-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('geographic-code-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>
                                            <xf:output value="'Geographic Code'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_geographicCode',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                    <xf:group ref=".[mods:occupation]">
                        <fieldset class="level-2">
                            <xf:group appearance="minimal" class="label-box">
                                <xf:output value="'Occupation'" class="hint-icon">
                                    <xf:hint ref="id('hint-code_occupation',instance('i-hint-codes'))/*:help"/>
                                </xf:output>
                                <xf:trigger>
                                    <xf:label>+</xf:label>
                                    <xf:insert nodeset="mods:occupation" at="index('subject-occupation-repeat')" position="before" origin="instance('new-instance')/mods:subject/mods:occupation" ev:event="DOMActivate"/>
                                </xf:trigger>
                                <xf:trigger>
                                    <xf:label>–</xf:label>
                                    <xf:delete nodeset="instance('save-data')/mods:subject/mods:occupation" at="index('subject-occupation-repeat')" ev:event="DOMActivate"/>
                                </xf:trigger>
                            </xf:group><!--Attributes: authority; authorityURI; valueURI; lang; xml:lang; script; transliteration-->
                            <xf:repeat nodeset="./mods:occupation" id="subject-occupation-repeat">
                                <xf:group appearance="full">
                                    <xf:group class="show-hide" ref=".[count(@*) &lt; 7]">
                                        <xf:switch>
                                            <xf:case id="subject-occupation-add-node-hide">
                                                <div class="open-close-button">
                                                    <xf:trigger class="add-button">
                                                        <xf:label class="xforms-group-label-centered">&gt;</xf:label>
                                                        <xf:toggle case="subject-occupation-add-node-unhide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                            </xf:case>
                                            <xf:case id="subject-occupation-add-node-unhide">
                                                <div class="open-close-button">
                                                    <xf:trigger>
                                                        <xf:label class="xforms-group-label-centered">&lt;</xf:label>
                                                        <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                    </xf:trigger>
                                                </div>
                                                <div class="node-adds">
                                                    <xf:group class="add-buttons">
                                                        <xf:trigger ref=".[not(@authority)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@authority"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@authorityURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add Authority URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@authorityURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@lang)]">
                                                            <xf:label>Add Language</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@lang"/>
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@script)]">
                                                            <xf:label>Add Script</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@script"/>
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@transliteration)]">
                                                            <xf:label>Add Transliteration</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@transliteration"/>
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@valueURI)]" class="add-button">
                                                            <xf:label class="xforms-group-label-centered">Add
		                                                            Value URI</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@valueURI"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                        <xf:trigger ref=".[not(@xml:lang)]">
                                                            <xf:label>Add xml:lang</xf:label>
                                                            <xf:action ev:event="DOMActivate">
                                                                <xf:insert context="." origin="instance('insert-templates')/mods:subject/mods:occupation/@xml:lang"/>
                                                                <xf:toggle case="subject-occupation-add-node-hide" ev:event="DOMActivate"/>
                                                            </xf:action>
                                                        </xf:trigger>
                                                    </xf:group>
                                                </div>
                                            </xf:case>
                                        </xf:switch>
                                    </xf:group>
                                    <xf:group ref=".[@authority]">
                                        <xf:select1 ref="./@authority">
                                            <xf:label>
                                                <xf:output value="'Authority'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('occupation-authority', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@authorityURI]">
                                        <xf:input ref="./@authorityURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Authority URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_authority-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@valueURI]">
                                        <xf:input ref="./@valueURI" class="text_50">
                                            <xf:label>
                                                <xf:output value="'Value URI'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_value-uri',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                        </xf:input>
                                    </xf:group>
                                    <xf:group ref=".[@lang]">
                                        <xf:select1 ref="./@lang">
                                            <xf:label>
                                                <xf:output value="'Language'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-3-type-sorted-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@script]">
                                        <xf:select1 ref="./@script">
                                            <xf:label>
                                                <xf:output value="'Script'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_script',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('script-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@transliteration]">
                                        <xf:select1 ref="./@transliteration">
                                            <xf:label>
                                                <xf:output value="'Transliteration'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_transliteration',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('transliteration-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:group ref=".[@xml:lang]">
                                        <xf:select1 ref="./@xml:lang">
                                            <xf:label>
                                                <xf:output value="'xml:lang'" class="hint-icon">
                                                    <xf:hint ref="id('hint-code_xml_lang',instance('i-hint-codes'))/*:help"/>
                                                </xf:output>
                                            </xf:label>
                                            <xf:itemset nodeset="id('language-2-type-short', instance('code-tables'))/*:items/*:item" model="m-ui">
                                                <xf:label ref="*:label"/>
                                                <xf:value ref="*:value"/>
                                            </xf:itemset>
                                        </xf:select1>
                                    </xf:group>
                                    <xf:input ref="." class="text_50">
                                        <xf:label>
                                            <xf:output value="'Occupation'" class="hint-icon">
                                                <xf:hint ref="id('hint-code_occupation',instance('i-hint-codes'))/*:help"/>
                                            </xf:output>
                                        </xf:label>
                                    </xf:input>
                                </xf:group>
                            </xf:repeat>
                        </fieldset>
                    </xf:group>
                </xf:repeat>
                <xf:group appearance="full" ref=".[not(mods:subject)]">
                    <xf:trigger class="add-button">
                        <xf:label class="xforms-group-label-centered">Add Missing Subject</xf:label>
                        <xf:insert nodeset="instance('save-data')/mods:subject" origin="instance('new-instance')/mods:subject" ev:event="DOMActivate"/>
                    </xf:trigger>
                </xf:group>
            </fieldset>
        </div>
    </xf:group>
</div>